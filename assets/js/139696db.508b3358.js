"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[223],{8570:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>f});var o=t(79);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=o.createContext({}),c=function(e){var n=o.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},u=function(e){var n=c(e.components);return o.createElement(l.Provider,{value:n},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},g=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(t),g=r,f=p["".concat(l,".").concat(g)]||p[g]||d[g]||i;return t?o.createElement(f,a(a({ref:n},u),{},{components:t})):o.createElement(f,a({ref:n},u))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,a=new Array(i);a[0]=g;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[p]="string"==typeof e?e:r,a[1]=s;for(var c=2;c<i;c++)a[c]=t[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}g.displayName="MDXCreateElement"},5980:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var o=t(5675),r=(t(79),t(8570));const i={title:"Configuration",sidebar_position:2,slug:"/configuration"},a=void 0,s={unversionedId:"installation/directory-configuration",id:"installation/directory-configuration",title:"Configuration",description:"Below is a Sample App Settings configuration for the Directory, includes all options* and defaults.",source:"@site/docs/installation/directory-configuration.md",sourceDirName:"installation",slug:"/configuration",permalink:"/configuration",draft:!1,editUrl:"https://github.com/biobankinguk/biobankinguk/edit/main/docs/docs/installation/directory-configuration.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Configuration",sidebar_position:2,slug:"/configuration"},sidebar:"installationGuide",previous:{title:"Installation Guide",permalink:"/installation"}},l={},c=[],u={toc:c},p="wrapper";function d(e){let{components:n,...t}=e;return(0,r.kt)(p,(0,o.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Below is a Sample App Settings configuration for the Directory, includes all options* and defaults."),(0,r.kt)("p",null,"*Third party settings aren't necessarily included or exhaustive, such as default ASP.NET Core settings for logging, Kestrel etc., or other libraries such as Serilog."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"// TODO: Details on how to configure ASP.NET Core?")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"# -----------------------\n# Directory Configuration\n# -----------------------\nConnectionStrings:\n  Default: \"\" # ODBC style connection string to a PostgreSQL database\n\n  # Optional if you want Hangfire tables in a different DB\n  Hangfire: \"\" # ODBC style connection string to a PostgreSQL database\n\n  # Only needed for the Submissions REST API functionality\n  AzureStorage: \"\" # Azure Storage Account Connection String\n\n# It's possible to pull navbar items from a Wordpress instance\n# Because the original Directory did it.\n# This functionality may be deprecated in future\nWordpressMenuUrl: \"\"\n\nSiteProperties:\n  # Text replacement\n  ServiceName: Biobanking Directory\n  PageTitle: Biobanking Directory\n  LegalEntity: Legal Entity\n  EmailSignature: Biobanking Directory\n\n  # Email addresses / links\n  ContactUsUrl: https://example.com\n  ContactAddress: contact@example.com\n  SupportAddress: support@example.com\n\n  # Homepage / GUI Features\n  ClientSessionTimeout: 1200000 # 20 mins in milliseconds\n  AlternateHomepage: false\n  HotjarEnabled: false\n\n  # Google Analytics Tracking\n  GoogleAnalyticsEnabled: false\n  GoogleAnalyticsTrackingCode: ''\n  GoogleTagId: ''\n\n  # Google Recaptcha v2 Invisible API credentials\n  GoogleRecaptchaSecret: ''\n  GoogleRecaptchaPublicKey: ''\n\n  # Can an admin of a suspended biobank still access it themselves?\n  AllowSuspendedBiobanks: true\n\nAnnualStatistics:\n  StartYear: '2015'\n\nPublications:\n  # Used by the GUI to search Publications\n  # and by the Publications Worker to link Publications to Biobanks\n  # (if the worker is active)\n  EpmcApiUrl: https://www.ebi.ac.uk/europepmc/\n\nHangfire:\n  SchemaName: Hangfire\n\nElasticSearch:\n  ApiBaseUrl: http://localhost:9200\n\n  # If sharing ES Servers for different environments\n  # set these differently per environment :)\n  DefaultCollectionsSearchIndex: collections\n  DefaultCapabilitiesSearchIndex: capabilities\n\n  # Optional if auth isn't required on the ES instance\n  # (e.g. in dev, or if heavily firewalled)\n  Username: ''\n  Password: ''\n\nOutboundEmail:\n  FromName: No Reply\n  FromAddress: noreply@example.com\n  ReplyToAddress: \"\" # if left empty, `FromAddress` will be used\n  \n  Provider: local # see below for options\n\n  # If Provider == \"local\"\n  LocalPath: ~/temp\n\n  # If Provider == \"sendgrid\"\n  SendGridApiKey: \"\"\n\n  # If Provider == \"smtp\"\n  SmtpHost: \"\" # SMTP host name\n  SmtpPort:    # SMTP port\n  SmtpUsername: \"\" # SMTP username\n  SmtpPassword: \"\" # SMTP password\n  SmtpSecureSocketEnum: # for example, assign 2 to implement SslOnConnect\n  # Secure socket options\n  # 1 - Auto\n  # 2 - SslOnConnect\n  # 3 - StartTls\n  # 4 - StartTlsWhenAvailable\n\n  # More information can be found here\n  # http://www.mimekit.net/docs/html/T_MailKit_Security_SecureSocketOptions.htm\n\n# ----------------------\n# REST API Configuration\n# ----------------------\n\n# Only needed if allowing external use of the REST API (i.e. issuing tokens)\nJWT:\n  # Used to sign JWTs issued by the backend\n  # and verify those in requests\n  Secret: \"\" # A suitable value can be generated using the crypto cli\n\n# --------------------\n# Worker Configuration\n# --------------------\n\n# Which Workers are enabled\nWorkers:\n  HangfireRecurringJobs: []\n  # `analytics` - regularly consume Google Analytics data for dashboarding\n  # `aggregator` - aggregate REST API Submissions into GUI Collections\n  # `publications` - regularly check for EPMC publications associated with biobanks in the Directory\n  # `submissions-expiry` - expire stale Submissions to the REST API\n\n# Only needed if using the Analytics Worker\n# These settings configure the use of the Google Analytics API\n# to fetch analytics stats so they can be dashboarded within the Directory GUI\nAnalytics:\n  # If specified, all Analytics Data will be filtered by the provided hostname.\n  # Usually the hostname of the Directory application.\n  FilterHostname: ''\n\n  # Number of Organisations to include in the ranking for Organisation reports\n  MetricThreshold: 10\n\n  # Number of Event groups that originated from the same location on a particular day\n  # above which will be excluded from plots\n  EventThreshold: 30\n  StartDate: '2016-01-01'\n  GoogleAnalyticsViewId: '' # View ID to fetch analytics data from\n\n  # A JSON Service Account Key for Google Analytics Reporting API v4\n  # https://developers.google.com/analytics/devguides/reporting/core/v4/authorization\n  GoogleAnalyticsReportingKey: ''\n\n# Only needed if using the Aggregator Worker\nAggregator:\n  # ID for the OntologyTerm used in collections for Non-Extracted Samples\n  NonExtractedOntologyTerm: ''\n\n  # Mappings between (ContentMethod, ContentId) of a Sample => MacroscopicAssessment\n  MacroscopicAssessmentMappings: []\n")))}d.isMDXComponent=!0}}]);