@model IEnumerable<Biobanks.Submissions.Api.Models.Shared.SiteConfigModel>

@{ ViewBag.Title = "Flags Config"; }


<h3>
    Flags Configuration
    <label id="submit-button" for="submit-form" class="btn btn-success pull-right">Save Changes</label>
</h3>

<div class="row">
    <div class="col-sm-12">
        <br />

        <form id="flags-config-form">
            <h3>Feature Flags</h3>
            <table id="flags-config" class="table table-striped table-fixed">
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th>Description</th>
                        <th>On/Off</th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var config in Model.Where(x => !x.ReadOnly).Where(x => x.IsFeatureFlag == true))
                    {
                        <tr>
                            <td>@config.Name</td>
                            <td>@config.Description</td>
                            <td>
                                <input type="checkbox" name="@config.Key" value="@config.Value" @Html.Raw(config.ReadOnly ? "disabled" : "")/>
                            </td>
                        </tr>
                     }
                </tbody>
            </table>
            <br />
            <h3>Config Flags</h3>
            <br />
            <table id="flags-config" class="table table-striped table-fixed">
                <thead>
                    <tr>
                        <th>Config Option</th>
                        <th>Description</th>
                        <th>On/Off</th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var config in Model.Where(x => !x.ReadOnly).Where(x => x.IsFeatureFlag == false || x.IsFeatureFlag == null))
                    {
                        <tr>
                            <td>@config.Name</td>
                            <td>@config.Description</td>
                            <td>
                               <input type="checkbox" name="@config.Key" value="@config.Value" @Html.Raw(config.ReadOnly ? "disabled" : "") />                  
                            </td>
                        </tr>

                    }
                </tbody>
            </table>
            <input type="submit" id="submit-form" class="hidden" />
        </form>
    </div>
</div>

@* /Knockout bundle *@
<script src="~/Scripts/knockout-3.4.0.js"></script>
<script src="~/Scripts/knockout.mapping-latest.js"></script>

@* Datatables bundle *@
<script src="~/Scripts/DataTables/jquery.dataTables.js"></script>
<script src="~/Scripts/moment.js"></script>
<script src="~/Scripts/moment.min.js"></script>
<script src="~/Scripts/moment-with-locales.js"></script>
<script src="~/Scripts/moment-with-locales.min.js"></script>
<script src="~/Scripts/DataTables/datetime-moment.js"></script>
<script src="~/Scripts/DataTables/dataTables.bootstrap.js"></script>
<script src="~/Scripts/DataTables/dataTables.buttons.js"></script>
<script src="~/Scripts/DataTables/buttons.bootstrap.js"></script>
<script src="~/Scripts/DataTables/buttons.html5.js"></script>
<script src="~/Scripts/DataTables/buttons.html5.js"></script>
<script src="~/Scripts/DataTables/buttons.print.js"></script>
<script src="~/Scripts/DataTables/buttons.colVis.js"></script>
<script src="~/Scripts/DataTables/dataTables.rowReorder.js"></script>

@* Flags Bundle *@
<script src="~/Scripts/Flags/flags-config.js"></script>
<script src="~/Scripts/bootbox.js"></script>
<script src="~/Scripts/bootbox.min.js"></script>
